
@{
    ViewBag.Title = "MyClass";
    Layout = "~/Areas/GV/Views/Shared/_Layout.cshtml";
}
<div >
    <div ng-app="LopModule" ng-controller="LopController">
        <div>
            <h2>My Class ({{Lops.length}}/5)</h2>
        </div>

        <section id="pricing-table">
            <div class="container">
                <div class="row">
                    <div class="pricing">
                        <div class="col-md-4 col-sm-12 col-xs-12">
                            <div class="pricing-table">
                                <div class="pricing-header">
                                    <p class="pricing-title">Free Plan</p>
                                    <p class="pricing-rate"><sup>$</sup> 0 <span>/Mo.</span></p>
                                    <a href="#" class="btn btn-custom">And Get Free Month</a>
                                </div>

                                <div class="pricing-list">
                                    <ul>
                                        <li><i class="fa fa-envelope"></i>1,000 messages</li>
                                        <li><i class="fa fa-signal"></i><span>limited</span> data</li>
                                        <li><i class="fa fa-user"></i><span>limited</span> users</li>
                                        <li><i class="fa fa-smile-o"></i>first 10 day free</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-12 col-xs-12">
                            <div class="pricing-table">
                                <div class="pricing-header">
                                    <p class="pricing-title">Business Plan</p>
                                    <p class="pricing-rate"><sup>$</sup> 20 <span>/Mo.</span></p>
                                    <a href="#" class="btn btn-custom">And Get Free Month</a>
                                </div>

                                <div class="pricing-list">
                                    <ul>
                                        <li><i class="fa fa-envelope"></i>10,000 messages</li>
                                        <li><i class="fa fa-signal"></i><span>unlimited</span> data</li>
                                        <li><i class="fa fa-user"></i><span>unlimited</span> users</li>
                                        <li><i class="fa fa-smile-o"></i>first 10 day free</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 col-sm-12 col-xs-12">
                            <div class="pricing-table">
                                <div class="pricing-header">
                                    <p class="pricing-title">Extended Plan</p>
                                    <p class="pricing-rate"><sup>$</sup> 80 <span>/Mo.</span></p>
                                    <a href="#" class="btn btn-custom">And Get Free Month</a>
                                </div>

                                <div class="pricing-list">
                                    <ul>
                                        <li><i class="fa fa-envelope"></i>10,0000 messages</li>
                                        <li><i class="fa fa-signal"></i><span>unlimited</span> data</li>
                                        <li><i class="fa fa-user"></i><span>unlimited</span> users</li>
                                        <li><i class="fa fa-smile-o"></i>first 10 day free</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>



        @*<div>
            <button type="button" class="btn btn-success"
                    data-target="#AddNew" data-toggle="modal">
                +Thêm mới
            </button>
        </div>*@
        <br />
        @*<div class="section-top-border">
            <div class="card-header"><i class="fas fa-table mr-1"></i>Danh sách khách hàng</div>
            <div class="card-body">
                <button type="button" class="btn btn-primary" data-target="#AddNew" data-toggle="modal" ng-click="AddCustomer()">
                    Thêm mới
                </button>
                <label>Tổng: {{Lops.length}}</label>
                <div class="table-responsive">
                    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">

                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Thao tác</th>
                                <th>Tên môn học</th>
                                <th>Mô tả</th>
                                <th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr dir-paginate="c in Customers | filter:SearchKey | itemsPerPage: 10" current-page="currentPage">
                            <tr ng-repeat="l in Lops">
                                <td width="5%">{{$index+1}}</td>
                                <td width="10%">
                                    <a href="#" data-ng-href="@Url.Action("Detail", "Agency")/{{l.MaLop}}" title="Chi tiết khách hàng"><i class="fa fa-eye" style="color:black"></i></a>
                                    <a ng-if="l.TrangThai==1" ng-click="LockUser(l.MaLop)" title="Khóa tài khoản"><i class="fa fa-lock" style="color:red"></i></a>
                                    <a ng-if="l.TrangThai==-1" ng-click="UnLockUser(l.MaLop)" title="Mở khóa tài khoản"><i class="fa fa-unlock" style="color:black"></i></a>
                                    <a ng-click="DeleteUser(l.MaLop)" title="Xóa tài khoản"><i class="fa fa-trash" style="color:black"></i></a>

                                </td>
                                <td width="15%">{{l.TenLop}}</td>
                                <td width="20%">{{l.MoTa}}</td>
                                <td width="20%" ng-if="l.TrangThai==false"><p style="color:red">Tạm khóa</p></td>
                                <td width="20%" ng-if="l.TrangThai==true"><p style="color:green">Kích hoạt</p></td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>



            <div class="progress-table-wrap">
                    <div class="progress-table">
                        <div class="table-head">
                            <div class="serial">#</div>
                            <div class="country">Tên môn học</div>
                            <div class="visit">Mô tả</div>
                            <div class="percentage">Trạng thái</div>
                            <div class="percentage">Thao tác</div>
                        </div>
                        <div class="table-row" ng-repeat="l in Lops">
                            <div class="serial">{{$index+1}}</div>
                            <div class="country">{{l.TenLop}}</div>
                            <div class="country">{{l.MoTa}}</div>
                            <div class="country" ng-if="l.TrangThai == true">Mở</div>
                            <div class="country" ng-if="l.TrangThai == false">Đóng</div>
                            <div>
                                <a href="#" data-ng-href="@Url.Action("Detail", "Agency")/{{l.MaLop}}" title="Chi tiết khách hàng"><i class="fa fa-fa-user" style="color:black"></i></a>
                                <a ng-if="l.TrangThai == true" ng-click="LockUser(l.MaLop)" title="Khóa tài khoản"><i class="fa fa-lock" style="color:red"></i></a>
                                <a ng-if="l.TrangThai == false" ng-click="UnLockUser(l.MaLop)" title="Mở khóa tài khoản"><i class="fa fa-unlock" style="color:black"></i></a>
                                <a ng-click="DeleteUser(l.MaLop)" title="Xóa tài khoản"><i class="fa fa-trash" style="color:black"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            <table class="table table-bordered">
                    <tr ng-repeat="l in Lops" style="border:2px solid;border-radius:8px;">
                        <td>
                            <a href="" data-ng-href="@Url.Action("ViewDetails", "Lop")/{{l.MaLop}}">
                                <img src="~/Assets/Image/{{l.Image}}" class="img-thumbnail" style="width:125px;height:152px" />
                            </a>
                        </td>
                        <td>
                            <div>
                                <div>
                                    <h3 style="display:inline-block">
                                        <a href="" data-ng-href="@Url.Action("ViewDetails", "Lop")/{{l.MaLop}}">
                                            {{l.TenLop}}
                                        </a>
                                    </h3>
                                    <div class="text-muted" style="font-size:12px;">
                                        <ul class="list-unstyled list-inline">
                                            <li style="display:inline-block;">
                                                <em class="fa fa-clock-o">
                                                    &nbsp;
                                                </em>
                                                Ngày bắt đầu: {{l.NgayBatDau}}
                                                &nbsp;&nbsp;&nbsp;
                                            </li>
                                            <li style="display:inline-block;">
                                                <em class="fa fa-user">
                                                    &nbsp;
                                                </em>
                                                Sĩ số: {{l.SiSo}}
                                                &nbsp;&nbsp;&nbsp;
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <p style="font-size:16px;height:100px;width:500px;overflow:hidden;">
                                    {{l.MoTa}}
                                </p>
                            </div>
                        </td>
                        <td>

                            <div style="margin-top:0px;">
                                <em class="fa fa-pencil">
                                    <a href="" data-toggle="modal" data-target="#Update" ng-click="getForUpdate(l)"><u>Chỉnh sửa</u></a>
                                </em>
                                |
                                <em class="fa fa-trash">
                                    <a href="" data-toggle="modal" data-target="#deleteDialog" ng-click="getForDelete(l)"><u>Xóa</u></a>
                                </em>
                                <br />
                                <em class="fa fa-lock">
                                    &nbsp;
                                    Trạng thái:
                                    <a ng-hide="l.TrangThai" href="" title="Nhấn để mở " ng-click="publish(l)"><u>Đóng</u></a>
                                    <a ng-show="l.TrangThai" href="" title="Nhấn để đóng " ng-click="private(l)"><u>Mở</u></a>
                                </em>
                            </div>

                        </td>
                    </tr>
                </table>
            <br />
        </div>*@

        @*insert*@
        <style>
            .error-msg {
                font-size: 90%;
                font-style: italic;
                color: red;
            }
        </style>
        <div class="modal" id="AddNew" role="dialog" data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="text-info">Thêm Lớp</h3>
                        <button type="button" class="close" data-dismiss="modal" style="text-align: left" ng-click="resetSave()">x</button>
                    </div>
                    <div class="modal-body" style="margin-left:20px">
                        <form class="form-horizontal" name="AddNewForm">
                            <div class="form-group">
                                <input class="form-control" readonly="readonly" ng-model="MaLop" type="hidden" />
                            </div>
                            <div class="form-group">
                                <label class="control-label"> Tên lớp </label>
                                <input class="form-control" name="TenLop" ng-model="TenLop" type="text" placeholder="Tên lớp học" ng-required="true" />
                                <span ng-show="AddNewForm.TenLop.$invalid" class="error-msg">Vui lòng nhập tên lớp</span>
                            </div>
                            <div class="form-group">
                                <label class="control-label"> Mô Tả</label>
                                <textarea class="form-control" name="MoTa" ng-model="MoTa" placeholder="Mô tả lớp học" ng-required="true"></textarea>
                                <span ng-show="AddNewForm.MoTa.$invalid" class="error-msg">Vui lòng nhập mô tả lớp học</span>

                            </div>
                            <div class="form-group">
                                <label class="control-label"> Ngày bắt đầu</label>
                                <input type="date" ng-model="date" ng-required="true" name="date">
                                <br />
                                <span ng-show="AddNewForm.date.$invalid" class="error-msg">Vui lòng chọn ngày bắt đầu</span>

                                <label>{{date|date:'dd/MM/yyyy' }}</label>
                            </div>
                            <div class="form-group">
                                <input type="file" ngf-select="UploadFiles($files)" />
                                <hr />
                                <ul><li ng-repeat="file in SelectedFiles">{{file.name}}</li></ul>
                                <div id="dvProgress" class="progress" ng-show="Progress >= 0"></div>
                            </div>
                            <div class="form-group">
                                <label class="control-label"> Môn học</label>
                                <select name="MaMonHoc" ng-model="MaMonHoc" ng-required="true">

                                    <option value="">--Select--</option>
                                    <option ng-repeat="mh in MonHocs" value="{{mh.MaMonHoc}}">{{mh.TenMonHoc}}</option>
                                </select>
                                <span ng-show="AddNewForm.MaMonHoc.$invalid" class="error-msg">Vui lòng chọn môn học</span>

                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="btnSave" data-dismiss="modal" ng-click="save()" ng-disabled="AddNewForm.$invalid">Save</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="resetSave()">Close</button>
                    </div>
                </div>
            </div>
        </div>

        @*Update*@
        <div class="modal" id="Update" data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="text-info">Cập nhật lớp</h3>
                        <button type="button" class="close" data-dismiss="modal">x</button>
                    </div>
                    <div class="modal-body" style="margin-left:20px">
                        @*Cập nhật lớp...*@
                        <form class="form-horizontal" name="Updateform">
                            <div class="form-group">
                                <input class="form-control" readonly="readonly" ng-model="UpdateMaLop" type="hidden" />
                            </div>
                            <div class="form-group">
                                <label class="control-label"> Tên lớp </label>
                                <input class="form-control" name="UpdateTenLop" ng-model="UpdateTenLop" type="text" placeholder="Tên lớp học" maxlength="50" required />
                                <span ng-show="Updateform.UpdateTenLop.$error.required" class="error-msg">Vui lòng nhập tên lớp</span>
                                <span ng-show="Updateform.UpdateTenLop.$error.maxlength" class="error-msg">Tối đa 50 ký tự</span>


                            </div>
                            <div class="form-group">
                                <label class="control-label"> Mô Tả</label>
                                <textarea class="form-control" name="UpdateMoTa" ng-model="UpdateMoTa" placeholder="Mô tả lớp học" maxlength="250" required></textarea>
                                <span ng-show="Updateform.UpdateMoTa.$error.required" class="error-msg">Vui lòng nhập mô tả</span>
                                <span ng-show="Updateform.UpdateMoTa.$error.maxlength" class="error-msg">Tối đa 250 ký tự</span>

                            </div>
                            <div class="form-group">
                                <label class="control-label"> Ngày bắt đầu</label>
                                <input type="date" name="Updatedate" ng-model="Updatedate" required>
                                <span ng-show="Updateform.Updatedate.$error.required" class="error-msg">Vui lòng chọn ngày bắt đầu</span>

                                <label>{{NgayBatDau|date:'dd/MM/yyyy' }}</label>

                            </div>
                            <div class="form-group">
                                <label>Ảnh lớp</label>
                                <input type="file" ngf-select="UploadFiles($files)" />
                                <hr />
                                <ul><li ng-repeat="file in SelectedFiles">{{file.name}}</li></ul>
                                <div id="dvProgress" class="progress" ng-show="Progress >= 0"></div>
                            </div>
                            <div class="form-group">
                                <label class="control-label"> Môn học</label>
                                <select name="UpdateMaMonHoc" ng-model="UpdateMaMonHoc" required>
                                    <option value="">--Select--</option>
                                    <option ng-repeat="mh in MonHocs" value="{{mh.MaMonHoc}}">{{mh.TenMonHoc}}</option>
                                </select>
                                <span ng-show="Updateform.UpdateMaMonHoc.$error.required" class="error-msg">Vui lòng chọn ngày bắt đầu</span>

                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="btnUpdate" data-dismiss="modal" ng-disabled="Updateform.$invalid" ng-click="update()">
                            Update
                        </button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>

        </div>
        @*Delete*@
        <div class="modal" role="dialog" id="deleteDialog" data-keyboard="false" data-backdrop="static">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="text-info">Xác nhận xóa lớp?</h3>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="delete(DeleteMaLop)">Yes</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="~/Scripts/angular.js"></script>
        <script src="~/Scripts/ng-file-upload-bower-12.2.12/ng-file-upload.js"></script>
        <script src="~/Areas/GV/AngularJS/Lop/LopModule.js"></script>
        <script src="~/Areas/GV/AngularJS/Lop/LopService.js"></script>
        <script src="~/Areas/GV/AngularJS/Lop/LopController.js"></script>

    </div>

</div>

<style>

</style>